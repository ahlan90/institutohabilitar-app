(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Vwae:function(t,e,i){"use strict";i.r(e),i.d(e,"TreinoModule",(function(){return ct}));var n=i("ofXK"),s=i("tyNb"),a=i("fXoL"),o=i("AytR"),r=i("tk/3");let c=(()=>{class t{constructor(t){this.http=t,this.apiURL=o.a.api+"/api/macrociclos/"}getList(){return this.http.get(this.apiURL)}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(r.b))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=i("f0Cb"),d=i("bTqV");let h=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}navigate(t){this.router.navigate(["treino","detalhe",t.id])}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-treino-item"]],inputs:{treino:"treino"},decls:3,vars:1,consts:[["mat-raised-button","","color","accent",1,"card-treino","mt-4","p-4",3,"click"],[1,"m-0"]],template:function(t,e){1&t&&(a.Ub(0,"button",0),a.cc("click",(function(){return e.navigate(e.treino)})),a.Ub(1,"h3",1),a.Bc(2),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.Cc(e.treino.titulo))},directives:[d.a],styles:[".card-treino[_ngcontent-%COMP%] {\n      width: 100%;\n    }"]}),t})();function u(t,e){if(1&t&&(a.Ub(0,"div",4),a.Pb(1,"app-treino-item",5),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.lc("treino",t)}}let p=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ib({type:t,selectors:[["app-microciclo-item"]],inputs:{microciclo:"microciclo"},decls:6,vars:2,consts:[[1,"mb-4","mt-2"],[1,"text-blue","text-700","mb-1"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[3,"treino"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"h1",1),a.Bc(2),a.Tb(),a.Pb(3,"mat-divider"),a.Ub(4,"div",2),a.zc(5,u,2,1,"div",3),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.Dc(" ",e.microciclo.titulo," "),a.Cb(3),a.lc("ngForOf",e.microciclo.sessoes))},directives:[l.a,n.j,h],styles:[""]}),t})();function b(t,e){if(1&t&&(a.Ub(0,"div",1),a.Pb(1,"app-microciclo-item",2),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.lc("microciclo",t)}}let g=(()=>{class t{constructor(t){this.treinoService=t}ngOnInit(){this.treinoService.getList().subscribe(t=>{this.microciclos=t.results[0].mesociclos[0].microciclos})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(c))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-treino-page"]],decls:1,vars:1,consts:[["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12",3,"microciclo"]],template:function(t,e){1&t&&a.zc(0,b,2,1,"div",0),2&t&&a.lc("ngForOf",e.microciclos)},directives:[n.j,p],styles:[""]}),t})(),y=(()=>{class t{constructor(t){this.http=t,this.apiURL=o.a.api+"/api/sessoes/"}getById(t){return this.http.get(this.apiURL+`${t}/`)}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(r.b))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m=(()=>{class t{constructor(t){this.http=t,this.apiURL=o.a.api+"/api/exercicios/"}setVisualizado(t){return this.http.patch(this.apiURL+`${t}/visualizar`,{})}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(r.b))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=i("7EHt"),f=i("2Vo4"),v=i("XNiG"),w=i("LRne"),x=i("itXk"),S=i("HDdC"),k=i("mCNh"),C=i("VRyK"),P=i("IzEk"),I=i("JX91"),O=i("1G5W"),j=i("oB13"),R=i("5+tZ"),T=i("l7GE"),V=i("ZUHj");function U(...t){return e=>{let i;return"function"==typeof t[t.length-1]&&(i=t.pop()),e.lift(new z(t,i))}}class z{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new L(t,this.observables,this.project))}}class L extends T.a{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const n=e.length;this.values=new Array(n);for(let s=0;s<n;s++)this.toRespond.push(s);for(let s=0;s<n;s++){let t=e[s];this.add(Object(V.a)(this,t,t,s))}}notifyNext(t,e,i,n,s){this.values[i]=e;const a=this.toRespond;if(a.length>0){const t=a.indexOf(i);-1!==t&&a.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}var A=i("lJxs"),B=i("Kqap"),Q=i("/uUt"),F=i("DH7j"),M=i("Cfvw"),E=i("7o/Q");class Y{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new Z(t,this.predicate))}}class Z extends E.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var W=i("pLZG");const D=["youtubeContainer"];let N=(()=>{class t{constructor(t,e){this._ngZone=t,this._videoId=new f.a(void 0),this._height=new f.a(390),this._width=new f.a(640),this._startSeconds=new f.a(void 0),this._endSeconds=new f.a(void 0),this._suggestedQuality=new f.a(void 0),this.ready=new a.o,this.stateChange=new a.o,this.error=new a.o,this.apiChange=new a.o,this.playbackQualityChange=new a.o,this.playbackRateChange=new a.o,this._youtubeContainer=new v.a,this._destroyed=new v.a,this._isBrowser=e?Object(n.t)(e):"object"==typeof window&&!!window}get videoId(){return this._videoId.value}set videoId(t){this._videoId.next(t)}get height(){return this._height.value}set height(t){this._height.next(t||390)}get width(){return this._width.value}set width(t){this._width.next(t||640)}set startSeconds(t){this._startSeconds.next(t)}set endSeconds(t){this._endSeconds.next(t)}set suggestedQuality(t){this._suggestedQuality.next(t)}ngOnInit(){if(!this._isBrowser)return;let t=Object(w.a)(!0);if(!window.YT){if(this.showBeforeIframeApiLoads)throw new Error("Namespace YT not found, cannot construct embedded youtube player. Please install the YouTube Player API Reference for iframe Embeds: https://developers.google.com/youtube/iframe_api_reference");const e=new v.a;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>e.next(!0))},t=e.pipe(Object(P.a)(1),Object(I.a)(!1))}const e=function(t,e,i,n,s,a,o){const r=e.pipe(U(Object(x.b)([n,s])),Object(A.a)(([t,[e,i]])=>t?{videoId:t,width:e,height:i,events:a}:void 0));return Object(x.b)([t,r,Object(w.a)(o)]).pipe((c=i,Object(k.a)(function(...t){let e=null;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(F.a)(t[0])&&(t=t[0].slice()),i=>i.lift.call(Object(M.a)([i,...t]),new x.a(e))}(c),(l=([t,e])=>!e,t=>t.lift(new Y(l))),Object(A.a)(([t])=>t))),Object(B.a)($,void 0),Object(Q.a)());var c,l}(this._youtubeContainer,this._videoId,t,this._width,this._height,this.createEventsBoundInZone(),this._ngZone).pipe((i=t=>{K(t)||t.destroy()},Object(R.a)(t=>t?K(t)?Object(w.a)(t):new S.a(e=>{let n=!1,s=!1;const a=t=>{s=!0,n||(t.target.removeEventListener("onReady",a),e.next(t.target))};return t.addEventListener("onReady",a),()=>{n=!0,s||i(t)}}).pipe(Object(P.a)(1),Object(I.a)(void 0)):Object(w.a)(void 0))),Object(O.a)(this._destroyed),Object(j.a)(new v.a));var i;e.subscribe(t=>{this._player=t,t&&this._pendingPlayerState&&this._initializePlayer(t,this._pendingPlayerState),this._pendingPlayerState=void 0}),function(t,e,i){Object(x.b)([t,e,i]).subscribe(([t,e,i])=>t&&t.setSize(e,i))}(e,this._width,this._height),function(t,e){Object(x.b)([t,e]).subscribe(([t,e])=>t&&e&&t.setPlaybackQuality(e))}(e,this._suggestedQuality),function(t,e,i,n,s,a){const o=Object(x.b)([i,n]).pipe(Object(A.a)(([t,e])=>({startSeconds:t,endSeconds:e}))),r=o.pipe(X(t,t=>!!t&&!function(t){const e=t.getPlayerState();return-1!==e&&5!==e}(t))),c=e.pipe(X(t,(t,e)=>!!t&&t.videoId!==e)),l=t.pipe(X(Object(x.b)([e,o]),([t,e],i)=>!(!i||t==i.videoId&&!e.startSeconds&&!e.endSeconds)));Object(C.a)(l,c,r).pipe(U(Object(x.b)([t,e,o,s])),Object(A.a)(([t,e])=>e),Object(O.a)(a)).subscribe(([t,e,i,n])=>{e&&t&&(t.videoId=e,t.cueVideoById(Object.assign({videoId:e,suggestedQuality:n},i)))})}(e,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),e.connect()}createEventsBoundInZone(){const t={};return new Map([["onReady",this.ready],["onStateChange",this.stateChange],["onPlaybackQualityChange",this.playbackQualityChange],["onPlaybackRateChange",this.playbackRateChange],["onError",this.error],["onApiChange",this.apiChange]]).forEach((e,i)=>{e.observers.length&&(t[i]=this._runInZone(t=>e.emit(t)))}),t}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._destroyed.next(),this._destroyed.complete()}_runInZone(t){return(...e)=>this._ngZone.run(()=>t(...e))}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=1}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=2}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=5}seekTo(t,e){this._player?this._player.seekTo(t,e):this._getPendingState().seek={seconds:t,allowSeekAhead:e}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:-1}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(t,e){const{playbackState:i,playbackRate:n,volume:s,muted:a,seek:o}=e;switch(i){case 1:t.playVideo();break;case 2:t.pauseVideo();break;case 5:t.stopVideo()}null!=n&&t.setPlaybackRate(n),null!=s&&t.setVolume(s),null!=a&&(a?t.mute():t.unMute()),null!=o&&t.seekTo(o.seconds,o.allowSeekAhead)}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(a.A),a.Ob(a.C,8))},t.\u0275cmp=a.Ib({type:t,selectors:[["youtube-player"]],viewQuery:function(t,e){var i;1&t&&a.Fc(D,!0),2&t&&a.pc(i=a.dc())&&(e.youtubeContainer=i.first)},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(t,e){1&t&&a.Pb(0,"div",null,0)},encapsulation:2,changeDetection:0}),t})();function $(t,[e,i,n]){if(!i)return void(t&&t.destroy());if(t)return t;const s=n.runOutsideAngular(()=>new YT.Player(e,i));return s.videoId=i.videoId,s}function K(t){return"getPlayerStatus"in t}function X(t,e){return Object(k.a)(U(t),Object(W.a)(([t,i])=>e(i,t)),Object(A.a)(([t])=>t))}let G=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)}}),t})(),H=(()=>{class t{constructor(){}ngOnInit(){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t),this.setInnerWidth(window.innerWidth),console.log("tamanho da tela",this.innerWidth)}onResize(t){this.setInnerWidth(window.innerWidth)}ngOnChanges(t){t.exercicio&&this.setVideoId()}setVideoId(){let t=this.exercicio.url.indexOf("=")+1;this.videoId=this.exercicio.url.substring(t),console.log(this.videoId)}setInnerWidth(t){this.innerWidth=.93*t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ib({type:t,selectors:[["app-exercicio-video"]],hostBindings:function(t,e){1&t&&a.cc("resize",(function(t){return e.onResize(t)}),!1,a.sc)},inputs:{exercicio:"exercicio"},features:[a.Ab],decls:1,vars:2,consts:[[3,"videoId","width"]],template:function(t,e){1&t&&a.Pb(0,"youtube-player",0),2&t&&a.lc("videoId",e.videoId)("width",e.innerWidth)},directives:[N],styles:[""]}),t})();var J=i("NFeN");function q(t,e){1&t&&(a.Ub(0,"mat-icon",13),a.Bc(1," checked "),a.Tb())}function tt(t,e){if(1&t){const t=a.Vb();a.Ub(0,"button",14),a.cc("click",(function(){return a.tc(t),a.gc(2).prevStep()})),a.Bc(1," Anterior "),a.Tb()}}function et(t,e){if(1&t){const t=a.Vb();a.Ub(0,"button",15),a.cc("click",(function(){a.tc(t);const e=a.gc().$implicit;return a.gc().nextStep(e)})),a.Bc(1," Pr\xf3ximo "),a.Tb()}}function it(t,e){1&t&&(a.Ub(0,"button",16),a.Bc(1," Finalizar "),a.Tb())}const nt=function(t){return{"bg-visualizado":t}};function st(t,e){if(1&t){const t=a.Vb();a.Ub(0,"mat-expansion-panel",3),a.cc("opened",(function(){a.tc(t);const i=e.$implicit;return a.gc().setStep(i.ordem)})),a.Ub(1,"mat-expansion-panel-header",4),a.Ub(2,"mat-panel-title",5),a.zc(3,q,2,0,"mat-icon",6),a.Ub(4,"span",7),a.Bc(5),a.Tb(),a.Tb(),a.Tb(),a.Pb(6,"app-exercicio-video",8),a.Ub(7,"mat-action-row",9),a.zc(8,tt,2,0,"button",10),a.zc(9,et,2,0,"button",11),a.zc(10,it,2,0,"button",12),a.Tb(),a.Tb()}if(2&t){const t=e.$implicit,i=a.gc();a.lc("expanded",i.step===t.ordem)("ngClass",a.nc(9,nt,t.visualizado)),a.Cb(1),a.lc("ngClass",a.nc(11,nt,t.visualizado)),a.Cb(2),a.lc("ngIf",t.visualizado),a.Cb(2),a.Cc(t.titulo),a.Cb(1),a.lc("exercicio",t),a.Cb(2),a.lc("ngIf",!i.isFirstStep()),a.Cb(1),a.lc("ngIf",!i.isLastStep()),a.Cb(1),a.lc("ngIf",i.isLastStep())}}const at=[{path:"",component:g},{path:"detalhe/:id",component:(()=>{class t{constructor(t,e,i){this.sessaoService=t,this.exercicioService=e,this.route=i,this.step=0,this.index=0}ngOnInit(){this.route.params.subscribe(t=>{t.id&&this.sessaoService.getById(t.id).subscribe(t=>{t&&(console.log("resultado",t),this.sessao=t,this.indexes=this.sessao.exercicios.map(t=>t.ordem),this.step=this.indexes[this.index])})})}setStep(t){this.step=t}nextStep(t){t.visualizado||(console.log("Entrou"),this.exercicioService.setVisualizado(t.id).subscribe(e=>{console.log("Funcionou"),t.visualizado=!0})),this.index++,this.step=this.indexes[this.index]}prevStep(){this.index--,this.step=this.indexes[this.index]}isLastStep(){return this.step===this.indexes[this.indexes.length-1]}isFirstStep(){return this.step===this.indexes[0]}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(y),a.Ob(m),a.Ob(s.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-treino-detail-page"]],decls:6,vars:2,consts:[[1,"text-blue","text-700","mb-1"],[1,"mt-4"],["hideToggle","",3,"expanded","ngClass","opened",4,"ngFor","ngForOf"],["hideToggle","",3,"expanded","ngClass","opened"],[3,"ngClass"],[1,"align-items-center"],["class","icone-check text-success",4,"ngIf"],[1,"titulo-exercicio","px-3"],[3,"exercicio"],[1,"px-2"],["mat-raised-button","","class","btn btn-warning btn-block m-0 mx-1",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","class","btn btn-block m-0 mx-1",3,"click",4,"ngIf"],["mat-raised-button","","class","btn btn-block m-0 mx-1","color","accent",4,"ngIf"],[1,"icone-check","text-success"],["mat-raised-button","",1,"btn","btn-warning","btn-block","m-0","mx-1",3,"click"],["mat-raised-button","","color","primary",1,"btn","btn-block","m-0","mx-1",3,"click"],["mat-raised-button","","color","accent",1,"btn","btn-block","m-0","mx-1"]],template:function(t,e){1&t&&(a.Ub(0,"h2",0),a.Bc(1),a.Tb(),a.Pb(2,"mat-divider"),a.Ub(3,"div",1),a.Ub(4,"mat-accordion"),a.zc(5,st,11,13,"mat-expansion-panel",2),a.Tb(),a.Tb()),2&t&&(a.Cb(1),a.Cc(null==e.sessao?null:e.sessao.titulo),a.Cb(4),a.lc("ngForOf",null==e.sessao?null:e.sessao.exercicios))},directives:[l.a,_.a,n.j,_.c,n.i,_.e,_.f,n.k,H,_.d,J.a,d.a],styles:["mat-expansion-panel-header[_ngcontent-%COMP%]{height:64px!important}mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:12px!important}mat-action-row[_ngcontent-%COMP%]{border-top-style:unset!important}.icone-check[_ngcontent-%COMP%]{font-size:26px;font-weight:900}.titulo-exercicio[_ngcontent-%COMP%]{font-size:18px;font-weight:900}.bg-visualizado[_ngcontent-%COMP%]{background:#f7c4a2!important}"]}),t})()}];let ot=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[[s.d.forChild(at)],s.d]}),t})();var rt=i("hctd");let ct=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[[n.c,ot,G,rt.a]]}),t})()}}]);