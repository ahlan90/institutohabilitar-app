(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Vwae:function(t,e,i){"use strict";i.r(e),i.d(e,"TreinoModule",(function(){return dt}));var n=i("ofXK"),s=i("tyNb"),a=i("IzEk"),o=i("fXoL"),c=i("AytR"),r=i("tk/3");let l=(()=>{class t{constructor(t){this.http=t,this.apiURL=c.a.api+"/api/macrociclos/"}getList(){return this.http.get(this.apiURL)}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(r.b))},t.\u0275prov=o.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=i("f0Cb"),h=i("bTqV");const u=function(t){return{"sessao-finalizado":t}};let p=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}navigate(t){this.router.navigate(["treino","detalhe",t.id])}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(s.b))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-sessao-item"]],inputs:{sessao:"sessao"},decls:3,vars:4,consts:[["mat-raised-button","","color","accent",1,"card-sessao","mt-4","p-4",3,"ngClass","click"],[1,"m-0"]],template:function(t,e){1&t&&(o.Ub(0,"button",0),o.cc("click",(function(){return e.navigate(e.sessao)})),o.Ub(1,"h3",1),o.Bc(2),o.Tb(),o.Tb()),2&t&&(o.lc("ngClass",o.nc(2,u,e.sessao.visualizada)),o.Cb(2),o.Cc(e.sessao.titulo))},directives:[h.a,n.i],styles:[".card-sessao[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .sessao-finalizado[_ngcontent-%COMP%] {\n      background-color: #ff57226b;\n    }"]}),t})();function b(t,e){if(1&t&&(o.Ub(0,"div",4),o.Pb(1,"app-sessao-item",5),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.lc("sessao",t)}}let g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Ib({type:t,selectors:[["app-microciclo-item"]],inputs:{microciclo:"microciclo"},decls:6,vars:2,consts:[[1,"mb-4","mt-2"],[1,"text-blue","text-700","mb-1"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[3,"sessao"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"h1",1),o.Bc(2),o.Tb(),o.Pb(3,"mat-divider"),o.Ub(4,"div",2),o.zc(5,b,2,1,"div",3),o.Tb(),o.Tb()),2&t&&(o.Cb(2),o.Dc(" ",e.microciclo.titulo," "),o.Cb(3),o.lc("ngForOf",e.microciclo.sessoes))},directives:[d.a,n.j,p],styles:[""]}),t})();function y(t,e){if(1&t&&o.Pb(0,"app-microciclo-item",3),2&t){const t=o.gc().$implicit;o.lc("microciclo",t)}}function m(t,e){if(1&t&&(o.Ub(0,"div",1),o.zc(1,y,1,1,"app-microciclo-item",2),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.lc("ngIf",(null==t.sessoes?null:t.sessoes.length)>0)}}let f=(()=>{class t{constructor(t){this.treinoService=t}ngOnInit(){this.treinoService.getList().pipe(Object(a.a)(1)).subscribe(t=>{this.microciclos=t[0].mesociclos[0].microciclos})}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(l))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-treino-page"]],decls:1,vars:1,consts:[["class","row",4,"ngFor","ngForOf"],[1,"row"],["class","col-12",3,"microciclo",4,"ngIf"],[1,"col-12",3,"microciclo"]],template:function(t,e){1&t&&o.zc(0,m,2,1,"div",0),2&t&&o.lc("ngForOf",e.microciclos)},directives:[n.j,n.k,g],styles:[""]}),t})(),_=(()=>{class t{constructor(t){this.http=t,this.apiURL=c.a.api+"/api/sessoes/"}getById(t){return this.http.get(this.apiURL+`${t}/`)}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(r.b))},t.\u0275prov=o.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),v=(()=>{class t{constructor(t){this.http=t,this.apiURL=c.a.api+"/api/exercicios/"}setVisualizado(t){return this.http.patch(this.apiURL+`${t}/visualizar`,{})}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(r.b))},t.\u0275prov=o.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var w=i("7EHt"),x=i("2Vo4"),k=i("XNiG"),S=i("LRne"),C=i("itXk"),P=i("HDdC"),I=i("mCNh"),O=i("VRyK"),j=i("JX91"),R=i("1G5W"),T=i("oB13"),V=i("5+tZ"),z=i("l7GE"),U=i("ZUHj");function L(...t){return e=>{let i;return"function"==typeof t[t.length-1]&&(i=t.pop()),e.lift(new A(t,i))}}class A{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new B(t,this.observables,this.project))}}class B extends z.a{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const n=e.length;this.values=new Array(n);for(let s=0;s<n;s++)this.toRespond.push(s);for(let s=0;s<n;s++){let t=e[s];this.add(Object(U.a)(this,t,t,s))}}notifyNext(t,e,i,n,s){this.values[i]=e;const a=this.toRespond;if(a.length>0){const t=a.indexOf(i);-1!==t&&a.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}var Q=i("lJxs"),M=i("Kqap"),F=i("/uUt"),E=i("DH7j"),Y=i("Cfvw"),Z=i("7o/Q");class W{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new $(t,this.predicate))}}class $ extends Z.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var D=i("pLZG");const N=["youtubeContainer"];let K=(()=>{class t{constructor(t,e){this._ngZone=t,this._videoId=new x.a(void 0),this._height=new x.a(390),this._width=new x.a(640),this._startSeconds=new x.a(void 0),this._endSeconds=new x.a(void 0),this._suggestedQuality=new x.a(void 0),this.ready=new o.o,this.stateChange=new o.o,this.error=new o.o,this.apiChange=new o.o,this.playbackQualityChange=new o.o,this.playbackRateChange=new o.o,this._youtubeContainer=new k.a,this._destroyed=new k.a,this._isBrowser=e?Object(n.t)(e):"object"==typeof window&&!!window}get videoId(){return this._videoId.value}set videoId(t){this._videoId.next(t)}get height(){return this._height.value}set height(t){this._height.next(t||390)}get width(){return this._width.value}set width(t){this._width.next(t||640)}set startSeconds(t){this._startSeconds.next(t)}set endSeconds(t){this._endSeconds.next(t)}set suggestedQuality(t){this._suggestedQuality.next(t)}ngOnInit(){if(!this._isBrowser)return;let t=Object(S.a)(!0);if(!window.YT){if(this.showBeforeIframeApiLoads)throw new Error("Namespace YT not found, cannot construct embedded youtube player. Please install the YouTube Player API Reference for iframe Embeds: https://developers.google.com/youtube/iframe_api_reference");const e=new k.a;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>e.next(!0))},t=e.pipe(Object(a.a)(1),Object(j.a)(!1))}const e=function(t,e,i,n,s,a,o){const c=e.pipe(L(Object(C.b)([n,s])),Object(Q.a)(([t,[e,i]])=>t?{videoId:t,width:e,height:i,events:a}:void 0));return Object(C.b)([t,c,Object(S.a)(o)]).pipe((r=i,Object(I.a)(function(...t){let e=null;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(E.a)(t[0])&&(t=t[0].slice()),i=>i.lift.call(Object(Y.a)([i,...t]),new C.a(e))}(r),(l=([t,e])=>!e,t=>t.lift(new W(l))),Object(Q.a)(([t])=>t))),Object(M.a)(X,void 0),Object(F.a)());var r,l}(this._youtubeContainer,this._videoId,t,this._width,this._height,this.createEventsBoundInZone(),this._ngZone).pipe((i=t=>{G(t)||t.destroy()},Object(V.a)(t=>t?G(t)?Object(S.a)(t):new P.a(e=>{let n=!1,s=!1;const a=t=>{s=!0,n||(t.target.removeEventListener("onReady",a),e.next(t.target))};return t.addEventListener("onReady",a),()=>{n=!0,s||i(t)}}).pipe(Object(a.a)(1),Object(j.a)(void 0)):Object(S.a)(void 0))),Object(R.a)(this._destroyed),Object(T.a)(new k.a));var i;e.subscribe(t=>{this._player=t,t&&this._pendingPlayerState&&this._initializePlayer(t,this._pendingPlayerState),this._pendingPlayerState=void 0}),function(t,e,i){Object(C.b)([t,e,i]).subscribe(([t,e,i])=>t&&t.setSize(e,i))}(e,this._width,this._height),function(t,e){Object(C.b)([t,e]).subscribe(([t,e])=>t&&e&&t.setPlaybackQuality(e))}(e,this._suggestedQuality),function(t,e,i,n,s,a){const o=Object(C.b)([i,n]).pipe(Object(Q.a)(([t,e])=>({startSeconds:t,endSeconds:e}))),c=o.pipe(H(t,t=>!!t&&!function(t){const e=t.getPlayerState();return-1!==e&&5!==e}(t))),r=e.pipe(H(t,(t,e)=>!!t&&t.videoId!==e)),l=t.pipe(H(Object(C.b)([e,o]),([t,e],i)=>!(!i||t==i.videoId&&!e.startSeconds&&!e.endSeconds)));Object(O.a)(l,r,c).pipe(L(Object(C.b)([t,e,o,s])),Object(Q.a)(([t,e])=>e),Object(R.a)(a)).subscribe(([t,e,i,n])=>{e&&t&&(t.videoId=e,t.cueVideoById(Object.assign({videoId:e,suggestedQuality:n},i)))})}(e,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),e.connect()}createEventsBoundInZone(){const t={};return new Map([["onReady",this.ready],["onStateChange",this.stateChange],["onPlaybackQualityChange",this.playbackQualityChange],["onPlaybackRateChange",this.playbackRateChange],["onError",this.error],["onApiChange",this.apiChange]]).forEach((e,i)=>{e.observers.length&&(t[i]=this._runInZone(t=>e.emit(t)))}),t}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._destroyed.next(),this._destroyed.complete()}_runInZone(t){return(...e)=>this._ngZone.run(()=>t(...e))}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=1}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=2}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=5}seekTo(t,e){this._player?this._player.seekTo(t,e):this._getPendingState().seek={seconds:t,allowSeekAhead:e}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:-1}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(t,e){const{playbackState:i,playbackRate:n,volume:s,muted:a,seek:o}=e;switch(i){case 1:t.playVideo();break;case 2:t.pauseVideo();break;case 5:t.stopVideo()}null!=n&&t.setPlaybackRate(n),null!=s&&t.setVolume(s),null!=a&&(a?t.mute():t.unMute()),null!=o&&t.seekTo(o.seconds,o.allowSeekAhead)}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(o.A),o.Ob(o.C,8))},t.\u0275cmp=o.Ib({type:t,selectors:[["youtube-player"]],viewQuery:function(t,e){var i;1&t&&o.Fc(N,!0),2&t&&o.pc(i=o.dc())&&(e.youtubeContainer=i.first)},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(t,e){1&t&&o.Pb(0,"div",null,0)},encapsulation:2,changeDetection:0}),t})();function X(t,[e,i,n]){if(!i)return void(t&&t.destroy());if(t)return t;const s=n.runOutsideAngular(()=>new YT.Player(e,i));return s.videoId=i.videoId,s}function G(t){return"getPlayerStatus"in t}function H(t,e){return Object(I.a)(L(t),Object(D.a)(([t,i])=>e(i,t)),Object(Q.a)(([t])=>t))}let J=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)}}),t})(),q=(()=>{class t{constructor(){}ngOnInit(){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t),this.setInnerWidth(window.innerWidth),console.log("tamanho da tela",this.innerWidth)}onResize(t){this.setInnerWidth(window.innerWidth)}ngOnChanges(t){t.exercicio&&this.setVideoId()}setVideoId(){let t=this.exercicio.url.indexOf("=")+1;this.videoId=this.exercicio.url.substring(t),console.log(this.videoId)}setInnerWidth(t){this.innerWidth=.93*t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Ib({type:t,selectors:[["app-exercicio-video"]],hostBindings:function(t,e){1&t&&o.cc("resize",(function(t){return e.onResize(t)}),!1,o.sc)},inputs:{exercicio:"exercicio"},features:[o.Ab],decls:1,vars:2,consts:[[3,"videoId","width"]],template:function(t,e){1&t&&o.Pb(0,"youtube-player",0),2&t&&o.lc("videoId",e.videoId)("width",e.innerWidth)},directives:[K],styles:[""]}),t})();var tt=i("NFeN");function et(t,e){1&t&&(o.Ub(0,"mat-icon",13),o.Bc(1," checked "),o.Tb())}function it(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",14),o.cc("click",(function(){return o.tc(t),o.gc(2).prevStep()})),o.Bc(1," Anterior "),o.Tb()}}function nt(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",15),o.cc("click",(function(){o.tc(t);const e=o.gc().$implicit;return o.gc().nextStep(e)})),o.Bc(1," Pr\xf3ximo "),o.Tb()}}function st(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",16),o.cc("click",(function(){o.tc(t);const e=o.gc().$implicit;return o.gc().finishStep(e)})),o.Bc(1," Finalizar "),o.Tb()}}const at=function(t){return{"bg-visualizado":t}};function ot(t,e){if(1&t){const t=o.Vb();o.Ub(0,"mat-expansion-panel",3),o.cc("opened",(function(){o.tc(t);const i=e.$implicit;return o.gc().setStep(i.ordem)})),o.Ub(1,"mat-expansion-panel-header",4),o.Ub(2,"mat-panel-title",5),o.zc(3,et,2,0,"mat-icon",6),o.Ub(4,"span",7),o.Bc(5),o.Tb(),o.Tb(),o.Tb(),o.Pb(6,"app-exercicio-video",8),o.Ub(7,"mat-action-row",9),o.zc(8,it,2,0,"button",10),o.zc(9,nt,2,0,"button",11),o.zc(10,st,2,0,"button",12),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit,i=o.gc();o.lc("expanded",i.step===t.ordem)("ngClass",o.nc(9,at,t.visualizado)),o.Cb(1),o.lc("ngClass",o.nc(11,at,t.visualizado)),o.Cb(2),o.lc("ngIf",t.visualizado),o.Cb(2),o.Cc(t.titulo),o.Cb(1),o.lc("exercicio",t),o.Cb(2),o.lc("ngIf",!i.isFirstStep()),o.Cb(1),o.lc("ngIf",!i.isLastStep()),o.Cb(1),o.lc("ngIf",i.isLastStep())}}const ct=[{path:"",component:f},{path:"detalhe/:id",component:(()=>{class t{constructor(t,e,i,n){this.sessaoService=t,this.exercicioService=e,this.activatedRoute=i,this.location=n,this.step=0,this.index=0}ngOnInit(){this.activatedRoute.params.subscribe(t=>{t.id&&this.sessaoService.getById(t.id).subscribe(t=>{t&&(console.log("resultado",t),this.sessao=t,this.indexes=this.sessao.exercicios.map(t=>t.ordem),this.step=this.indexes[this.index])})})}setStep(t){this.step=t}nextStep(t){t.visualizado||this.exercicioService.setVisualizado(t.id).subscribe(e=>{t.visualizado=!0}),this.index++,this.step=this.indexes[this.index]}prevStep(){this.index--,this.step=this.indexes[this.index]}finishStep(t){t.visualizado||this.exercicioService.setVisualizado(t.id).subscribe(e=>{t.visualizado=!0}),this.location.back(),this.index++}isLastStep(){return this.step===this.indexes[this.indexes.length-1]}isFirstStep(){return this.step===this.indexes[0]}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(_),o.Ob(v),o.Ob(s.a),o.Ob(n.g))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-treino-detail-page"]],decls:6,vars:2,consts:[[1,"text-blue","text-700","mb-1"],[1,"mt-4"],["hideToggle","",3,"expanded","ngClass","opened",4,"ngFor","ngForOf"],["hideToggle","",3,"expanded","ngClass","opened"],[3,"ngClass"],[1,"align-items-center"],["class","icone-check text-success",4,"ngIf"],[1,"titulo-exercicio","px-3"],[3,"exercicio"],[1,"px-2"],["mat-raised-button","","class","btn btn-warning btn-block m-0 mx-1 btn-exercicio",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","class","btn btn-block m-0 mx-1 btn-exercicio",3,"click",4,"ngIf"],["mat-raised-button","","class","btn btn-block m-0 mx-1 btn-exercicio","color","accent",3,"click",4,"ngIf"],[1,"icone-check","text-success"],["mat-raised-button","",1,"btn","btn-warning","btn-block","m-0","mx-1","btn-exercicio",3,"click"],["mat-raised-button","","color","primary",1,"btn","btn-block","m-0","mx-1","btn-exercicio",3,"click"],["mat-raised-button","","color","accent",1,"btn","btn-block","m-0","mx-1","btn-exercicio",3,"click"]],template:function(t,e){1&t&&(o.Ub(0,"h2",0),o.Bc(1),o.Tb(),o.Pb(2,"mat-divider"),o.Ub(3,"div",1),o.Ub(4,"mat-accordion"),o.zc(5,ot,11,13,"mat-expansion-panel",2),o.Tb(),o.Tb()),2&t&&(o.Cb(1),o.Cc(null==e.sessao?null:e.sessao.titulo),o.Cb(4),o.lc("ngForOf",null==e.sessao?null:e.sessao.exercicios))},directives:[d.a,w.a,n.j,w.c,n.i,w.e,w.f,n.k,q,w.d,tt.a,h.a],styles:["mat-expansion-panel-header[_ngcontent-%COMP%]{height:64px!important}mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:12px!important}mat-action-row[_ngcontent-%COMP%]{border-top-style:unset!important}.icone-check[_ngcontent-%COMP%]{font-size:26px;font-weight:900}.titulo-exercicio[_ngcontent-%COMP%]{font-size:18px;font-weight:900}.bg-visualizado[_ngcontent-%COMP%]{background:#f7c4a2!important}.btn-exercicio[_ngcontent-%COMP%]{height:48px!important}"]}),t})()}];let rt=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[s.d.forChild(ct)],s.d]}),t})();var lt=i("hctd");let dt=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[n.c,rt,J,lt.a]]}),t})()}}]);